# Phase 14 Plan 01: Core Framework Package Rename

## Metadata

- **Phase**: 14-core-framework-rename
- **Plan**: 01
- **Depends on**: Phase 13 complete (Rebrand Audit)
- **Estimated tasks**: 3

## Objective

Rename the main framework crate package from `cancer-rs` to `ferro` in Cargo.toml. This is the foundational step of the rebrand - subsequent phases will rename supporting crates and update imports.

## Reference

- `.planning/phases/13-rebrand-audit/RENAME-MAPPING.md` - Transformation rules
- `.planning/phases/13-rebrand-audit/AUDIT.md` - Full occurrence inventory

## Scope

**In scope:**
- framework/Cargo.toml package name: `cancer-rs` → `ferro`
- framework/Cargo.toml metadata: keywords, description updates
- app/Cargo.toml: Update dependency alias from `cancer` to `ferro`

**Out of scope (handled in later phases):**
- Supporting crate renames (cancer-* → ferro-*) - Phase 15
- Rust code imports (use cancer::) - Phase 19
- CLI binary name - Phase 16
- MCP server - Phase 17
- Documentation - Phase 18

## Success Criteria

- [ ] framework/Cargo.toml has `name = "ferro"`
- [ ] app/Cargo.toml references `ferro = { path = "../framework", package = "ferro" }`
- [ ] `cargo check --all` passes
- [ ] `cargo test -p ferro` passes (renamed crate)

---

## Tasks

### Task 1: Rename framework package

**Goal**: Update framework/Cargo.toml package name and metadata

**Files**:
- `framework/Cargo.toml`

**Changes**:

1. Update package name:
```toml
# OLD
[package]
name = "cancer-rs"

# NEW
[package]
name = "ferro"
```

2. Update keywords (remove "cancer", add "ferro"):
```toml
# OLD
keywords = ["web-framework", "async", "rust", "cancer"]

# NEW
keywords = ["web-framework", "async", "rust", "ferro"]
```

3. Update description to remove any "cancer" references if present

**Note**: Internal dependencies (cancer-macros, cancer-events, etc.) remain unchanged - they still reference `../cancer-*` paths which is correct since those directories haven't been renamed yet.

**Verification**:
```bash
cargo check -p ferro
```

---

### Task 2: Update app dependency alias

**Goal**: Update sample app to use new package name

**Files**:
- `app/Cargo.toml`

**Changes**:

```toml
# OLD
cancer = { path = "../framework", package = "cancer-rs" }

# NEW
ferro = { path = "../framework", package = "ferro" }
```

**Note**: The actual Rust imports in app code (`use cancer::`) remain unchanged until Phase 19 - this just updates the Cargo.toml alias. The code will temporarily not compile until Phase 19 updates imports, OR we can add a re-export alias. Let me check the approach...

Actually, we need the code to still compile. We have two options:
1. Also update all `use cancer::` to `use ferro::` in app/ now
2. Keep the dependency alias as `cancer` pointing to the new `ferro` package

Option 2 is cleaner - keep the alias as `cancer` for now:
```toml
# REVISED - keep alias, just update package reference
cancer = { path = "../framework", package = "ferro" }
```

This allows app code to continue using `use cancer::` until Phase 19 migrates imports.

**Verification**:
```bash
cargo check -p app
```

---

### Task 3: Full workspace verification

**Goal**: Ensure entire workspace still builds and tests pass

**Verification**:
```bash
cargo check --all
cargo test --all --lib
cargo clippy --all -- -D warnings
```

**Expected**: All checks pass. The workspace should build correctly because:
- framework crate is now named `ferro` but still at `framework/` path
- app references it via alias `cancer` with package name `ferro`
- All other crates unchanged

---

## Execution Order

```
Task 1 (framework/Cargo.toml)
    ↓
Task 2 (app/Cargo.toml)
    ↓
Task 3 (verification)
```

Sequential execution required - each task depends on previous.

## Wave Assignment

| Wave | Tasks | Parallelizable |
|------|-------|----------------|
| 1 | Task 1, Task 2 | No - sequential |
| 2 | Task 3 | No - after edits |

## Commit Strategy

Single commit after all tasks complete:
```
refactor(framework): rename package from cancer-rs to ferro

Phase 14 of rebrand - rename main framework crate package name.
Supporting crates remain as cancer-* until Phase 15.
```

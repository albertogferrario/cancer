# Phase 19-01: Sample App Migration

<metadata>
phase: 19-sample-app-migration
plan: 01
depends_on: [18-documentation-update]
</metadata>

<objective>
Update the sample `app` crate to use `ferro::` imports instead of the `cancer::` alias pattern, completing the application-level rebrand.
</objective>

<context>
## Background

Phase 18 completed documentation updates. The sample app currently uses Cargo aliasing:
```toml
cancer = { path = "../framework", package = "ferro" }
```

This allows `use cancer::...` imports while the actual crate is named `ferro`. Phase 19 removes this indirection.

## Scope

- app/Cargo.toml: Remove alias, use `ferro` directly
- app/src/: 38 `use cancer::...` statements across ~21 files â†’ `use ferro::...`
- app/frontend/: 5 references (package.json name, generated type comments)
- `CancerModel` derive macro: Stays as-is (framework exports it under that name)

## Key Files

- app/Cargo.toml - Dependency alias
- app/src/**/*.rs - All Rust source files with imports
- app/frontend/package.json - Package name
- app/frontend/src/types/generated.d.ts - Generated type comments
</context>

<tasks>
<task id="1" type="auto">
<title>Update Cargo.toml and Rust imports</title>
<why>Remove the alias pattern so app uses ferro directly</why>
<what>
1. Update app/Cargo.toml:
   - Change `cancer = { path = "../framework", package = "ferro" }` to `ferro = { path = "../framework" }`
   - Update any other cancer-* dependencies to ferro-*

2. Update all Rust imports in app/src/:
   - Replace `use cancer::` with `use ferro::`
   - Replace `cancer::` path references with `ferro::`
   - Keep `CancerModel` as-is (it's the actual macro name)

3. Verify compilation:
   - Run `cargo check -p app`
   - Fix any import errors
</what>
<files>
- app/Cargo.toml
- app/src/**/*.rs (all files with cancer imports)
</files>
<done>
- app/Cargo.toml uses `ferro = { path = "../framework" }` (no alias)
- All `use cancer::` replaced with `use ferro::`
- `cargo check -p app` passes
</done>
</task>

<task id="2" type="auto">
<title>Update frontend references</title>
<why>Complete the rebrand in the frontend package</why>
<what>
1. Update app/frontend/package.json:
   - Change `"name": "cancer-app-frontend"` to `"name": "ferro-app-frontend"`

2. Update generated type comments:
   - Check app/frontend/src/types/generated.d.ts for cancer references
   - Update any `cancer generate-types` comments to `ferro generate-types`

3. Verify frontend builds:
   - Run `npm run build` in app/frontend
</what>
<files>
- app/frontend/package.json
- app/frontend/src/types/generated.d.ts
</files>
<done>
- package.json name is "ferro-app-frontend"
- No "cancer" references in frontend source
- Frontend builds successfully
</done>
</task>

<task id="3" type="auto">
<title>Verify complete migration</title>
<why>Ensure no cancer references remain in app crate</why>
<what>
1. Grep verification:
   - `grep -rn "cancer" app/src/` should return no matches
   - `grep -rn "cancer" app/frontend/src/` should return no matches
   - `grep "cancer" app/Cargo.toml` should return no matches

2. Full build verification:
   - `cargo build -p app` passes
   - `cargo test -p app` passes (if tests exist)

3. Document any exceptions:
   - If CancerModel appears in code, that's expected (framework macro name)
   - Note in SUMMARY.md if any references intentionally kept
</what>
<files>
- app/Cargo.toml
- app/src/**/*.rs
- app/frontend/**/*
</files>
<done>
- No unexpected "cancer" references in app crate
- Full build passes
- Tests pass
</done>
</task>
</tasks>

<waves>
Wave 1 (sequential):
- Task 1: Cargo.toml and Rust imports (must complete before verification)
- Task 2: Frontend references

Wave 2 (depends on Wave 1):
- Task 3: Verify complete migration
</waves>

<commit_plan>
- Task 1: `refactor(app): migrate from cancer alias to ferro imports`
- Task 2: `refactor(app): update frontend package name to ferro-app-frontend`
- Task 3: `refactor(app): verify complete sample app migration` (if any fixes needed)
</commit_plan>

<validation>
## Success Criteria
- [ ] app/Cargo.toml uses `ferro` without alias
- [ ] All app/src/ imports use `ferro::`
- [ ] Frontend package named "ferro-app-frontend"
- [ ] `grep -rn "cancer" app/` returns only CancerModel (expected)
- [ ] `cargo build -p app` passes
- [ ] Frontend builds successfully
</validation>

<notes>
## Important: CancerModel stays as-is

The `CancerModel` derive macro was NOT renamed to `FerroModel` in earlier phases. The framework still exports:
```rust
pub use cancer_macros::CancerModel;
```

This is intentional for this phase - the macro rename is a separate concern that may be addressed in Phase 20 (Templates & Scaffolding) or later. Sample app code using `#[derive(CancerModel)]` is correct.

## Estimated Effort

- ~40 sed replacements (straightforward)
- Single plan sufficient for scope
- Expected duration: 15-20 minutes
</notes>

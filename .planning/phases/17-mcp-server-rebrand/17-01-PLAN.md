---
phase: 17-mcp-server-rebrand
plan: 01
title: MCP Server Rebrand
scope: small
autonomous: true
wave: 1
depends_on:
  - 16-01
---

<plan>
<objective>
Update all "cancer" references in ferro-mcp to complete the MCP server rebrand. This includes struct/const names, tool descriptions, debug endpoint URLs, and code templates. The Cargo.toml is already renamed to ferro-mcp.
</objective>

<spec_check>
No external specification required - following established rebrand patterns from Phase 16.
</spec_check>

<context>
## Current State

The ferro-mcp crate has:
- Cargo.toml already renamed to `ferro-mcp` (Phase 15)
- 68 remaining "cancer" references across 17 files
- Main struct `CancerMcpService` needs rename to `FerroMcpService`
- Debug endpoint URLs use `/_cancer/` prefix
- Instructions constant references "Cancer Framework"
- Code templates have `use cancer::prelude::*;` imports

## Files by Reference Count

| File | Count | What Needs Changing |
|------|-------|---------------------|
| service.rs | 6 | Struct name, impl blocks, const name, instructions text |
| code_templates.rs | 23 | All template imports (cancer:: → ferro::) |
| queue_status.rs | 5 | Debug endpoint URLs (/_cancer/ → /_ferro/) |
| get_config.rs | 5 | Cancer.toml reference, config patterns |
| create_project.rs | 5 | CLI command references |
| request_metrics.rs | 3 | Debug endpoint URLs |
| list_routes.rs | 3 | Debug endpoint URLs |
| list_services.rs | 3 | Debug endpoint URLs |
| list_middleware.rs | 3 | Debug endpoint URLs |
| application_info.rs | 3 | Crate name filtering |
| generation_context.rs | 3 | Framework name references |
| Other files | ~6 | Various tool descriptions |

## Prior Phase Pattern

Phase 16 (CLI Rebrand) established the pattern:
1. Rename struct/const names in main module
2. Update user-facing messages and descriptions
3. Update code templates with new imports
4. Verification pass to catch any missed references
</context>

<task id="1" autonomous="true">
<files>
- ferro-mcp/src/service.rs
</files>

<action>
Update service.rs with Ferro branding:

1. Rename struct `CancerMcpService` → `FerroMcpService`
2. Update all impl blocks and method references
3. Rename constant `CANCER_MCP_INSTRUCTIONS` → `FERRO_MCP_INSTRUCTIONS`
4. Update instructions text:
   - "Cancer Framework MCP server" → "Ferro Framework MCP server"
   - "Cancer is a Laravel-inspired" → "Ferro is a Laravel-inspired"
   - "cancer-queue" → "ferro-queue"
   - "cancer-events" → "ferro-events"
   - "cancer-broadcast" → "ferro-broadcast"
   - "cancer-storage" → "ferro-storage"
   - "cancer-cache" → "ferro-cache"
   - All "Cancer" in tool descriptions → "Ferro"
   - All "Cancer project" → "Ferro project"
   - "Cancer-specific" → "Ferro-specific"
   - "Cancer framework" → "Ferro framework"
   - "Cancer artifacts" → "Ferro artifacts"
   - "Cancer MCP" → "Ferro MCP"
</action>

<verification>
```bash
# No "Cancer" references remain in service.rs (case-insensitive)
grep -i "cancer" ferro-mcp/src/service.rs | wc -l
# Should output: 0

# Struct renamed correctly
grep "FerroMcpService" ferro-mcp/src/service.rs | head -3

# Instructions constant renamed
grep "FERRO_MCP_INSTRUCTIONS" ferro-mcp/src/service.rs | head -1
```
</verification>

<commit>
refactor(17-01): rename MCP service struct and instructions to Ferro
</commit>
</task>

<task id="2" autonomous="true">
<files>
- ferro-mcp/src/tools/code_templates.rs
</files>

<action>
Update code templates with ferro:: imports:

Replace all template code that uses cancer:: imports:
- `use cancer::prelude::*;` → `use ferro::prelude::*;`
- `use cancer::middleware::*;` → `use ferro::middleware::*;`
- `use cancer::validation::*;` → `use ferro::validation::*;`
- `use cancer::http::*;` → `use ferro::http::*;`
- `use cancer::database::*;` → `use ferro::database::*;`
- Any other `cancer::` module paths → `ferro::`

These are string literals in Rust code (template content), so use sed or manual replacement.
</action>

<verification>
```bash
# No cancer:: imports remain in templates
grep -c "cancer::" ferro-mcp/src/tools/code_templates.rs
# Should output: 0

# Ferro imports present
grep "ferro::prelude" ferro-mcp/src/tools/code_templates.rs | head -3
```
</verification>

<commit>
refactor(17-01): update MCP code templates with ferro:: imports
</commit>
</task>

<task id="3" autonomous="true">
<files>
- ferro-mcp/src/tools/queue_status.rs
- ferro-mcp/src/tools/request_metrics.rs
- ferro-mcp/src/tools/list_routes.rs
- ferro-mcp/src/tools/list_services.rs
- ferro-mcp/src/tools/list_middleware.rs
- ferro-mcp/src/tools/get_config.rs
- ferro-mcp/src/tools/create_project.rs
- ferro-mcp/src/tools/application_info.rs
- ferro-mcp/src/tools/generation_context.rs
- ferro-mcp/src/tools/diagnose_error.rs
- ferro-mcp/src/tools/generate_types.rs
- ferro-mcp/src/tools/get_middleware.rs
- ferro-mcp/src/tools/inspect_props.rs
- ferro-mcp/src/tools/tinker.rs
- ferro-mcp/src/resources/error_patterns.rs
</files>

<action>
Update remaining tool files:

1. Debug endpoint URLs: `/_cancer/` → `/_ferro/`
   - queue_status.rs: job and stats endpoints
   - request_metrics.rs: metrics endpoint
   - list_routes.rs: routes endpoint
   - list_services.rs: services endpoint
   - list_middleware.rs: middleware endpoint

2. CLI command references:
   - create_project.rs: "cancer new" → "ferro new"
   - diagnose_error.rs: "cancer migrate" → "ferro migrate"
   - generate_types.rs: "cancer generate-types" → "ferro generate-types"

3. Config file references:
   - get_config.rs: "Cancer.toml" → "Ferro.toml" (if exists)

4. Crate name patterns:
   - application_info.rs: filter for "ferro-*" crates instead of "cancer-*"
   - generation_context.rs: framework name in conventions

5. Other tool descriptions mentioning "Cancer" → "Ferro"
</action>

<verification>
```bash
# No cancer references in any tool file
grep -rn "cancer" ferro-mcp/src/tools/ | wc -l
# Should output: 0

# No cancer references in resources
grep -rn "cancer" ferro-mcp/src/resources/ | wc -l
# Should output: 0
```
</verification>

<commit>
refactor(17-01): update MCP tool files with Ferro branding
</commit>
</task>

<task id="4" autonomous="true">
<files>
- ferro-mcp/README.md
- ferro-mcp/src/lib.rs
- ferro-mcp/src/main.rs (if exists)
</files>

<action>
Update README and entry points:

1. README.md updates:
   - Title: "# cancer-mcp" → "# ferro-mcp"
   - Description: "Cancer Framework" → "Ferro Framework"
   - CLI commands: "cancer mcp" → "ferro mcp"
   - MCP config key: "cancer" → "ferro"
   - Package name: "cancer-mcp" → "ferro-mcp"
   - All "Cancer" references → "Ferro"

2. Check lib.rs and main.rs for any cancer references

3. Final verification pass across entire crate
</action>

<verification>
```bash
# Complete crate verification
grep -rn "cancer" ferro-mcp/ --include="*.rs" --include="*.md" | grep -v target | wc -l
# Should output: 0

# README has correct title
head -1 ferro-mcp/README.md
# Should show: # ferro-mcp

# Build succeeds
cargo build -p ferro-mcp
```
</verification>

<commit>
refactor(17-01): complete ferro-mcp rebrand with README and verification
</commit>
</task>

<wave_structure>
Wave 1 (all tasks): All 4 tasks are autonomous and can proceed sequentially. The work is straightforward find-and-replace following Phase 16 patterns. No research or decisions needed.
</wave_structure>

<success_criteria>
- [ ] FerroMcpService struct in service.rs
- [ ] FERRO_MCP_INSTRUCTIONS constant
- [ ] All tool descriptions reference "Ferro"
- [ ] Code templates use ferro:: imports
- [ ] Debug endpoints use /_ferro/ prefix
- [ ] CLI commands reference "ferro" binary
- [ ] README fully updated
- [ ] `grep -rn "cancer" ferro-mcp/` returns 0 matches
- [ ] `cargo build -p ferro-mcp` succeeds
</success_criteria>
</plan>

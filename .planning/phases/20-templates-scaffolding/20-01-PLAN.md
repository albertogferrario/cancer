# Phase 20-01: Templates & Scaffolding Rebrand

<metadata>
phase: 20
plan: 01
title: Templates & Scaffolding Rebrand
estimated_tasks: 3
</metadata>

<objective>
Update all CLI templates to generate ferro-based code instead of cancer-referenced code. This includes .tpl template files and inline template strings in mod.rs.
</objective>

<context>
Phase 19 migrated the sample app to use `ferro::` imports. Phase 20 ensures newly scaffolded projects also use the ferro naming throughout.

Key findings from investigation:
- 13 "cancer" references in .tpl template files
- ~25 "cancer" references in templates/mod.rs inline templates
- Bug: `CancerDatabaseConfig` used where alias is `FerroDatabaseConfig` in config/mod.rs.tpl
- `CancerModel` derive macro name intentionally kept (per prior decisions)
</context>

<dependencies>
- Phase 19 complete (sample app migrated)
- ferro-macros generates `::ferro::` paths (done in Phase 19)
</dependencies>

---

<task id="1">
<title>Update .tpl template files</title>
<why>Template files generate project scaffolding with hardcoded "cancer" strings that should now be "ferro"</why>

<files>
- ferro-cli/src/templates/files/frontend/src/types/inertia-props.ts.tpl
- ferro-cli/src/templates/files/frontend/src/layouts/AuthLayout.tsx.tpl
- ferro-cli/src/templates/files/backend/config/database.rs.tpl
- ferro-cli/src/templates/files/backend/config/mail.rs.tpl
- ferro-cli/src/templates/files/backend/config/mod.rs.tpl
- ferro-cli/src/templates/files/backend/main.rs.tpl
- ferro-cli/src/templates/files/backend/controllers/home.rs.tpl
- ferro-cli/src/templates/files/root/env.example.tpl
- ferro-cli/src/templates/files/root/env.tpl
</files>

<steps>
1. Update inertia-props.ts.tpl: Change "auto-generated by Cancer" to "auto-generated by Ferro"
2. Update AuthLayout.tsx.tpl: Change "Cancer framework" to "Ferro framework"
3. Update database.rs.tpl: Change "Cancer's built-in DatabaseConfig" to "Ferro's built-in DatabaseConfig"
4. Update mail.rs.tpl: Change "Cancer App" to "Ferro App" in MAIL_FROM_NAME default
5. Update config/mod.rs.tpl: Fix bug - change `CancerDatabaseConfig` to `FerroDatabaseConfig`, update comments
6. Update main.rs.tpl: Change "Cancer Application Entry Point" and "Cancer application server" to "Ferro" equivalents
7. Update home.rs.tpl: Change "Welcome to Cancer!" to "Welcome to Ferro!"
8. Update env.example.tpl: Change "Cancer Application" and "Cancer App" to "Ferro" equivalents
9. Update env.tpl: Change "Cancer App" to "Ferro App"
</steps>

<validation>
- `grep -rn "cancer" ferro-cli/src/templates/files/` returns no results (case-insensitive)
- `grep -rn "Cancer" ferro-cli/src/templates/files/` returns no results
</validation>
</task>

<task id="2">
<title>Update inline templates in mod.rs</title>
<why>The templates/mod.rs file contains inline template strings with "Cancer" references that generate CLAUDE.md, cursor rules, and other scaffold files</why>

<files>
- ferro-cli/src/templates/mod.rs
</files>

<steps>
1. Search for all "Cancer" and "cancer" strings in mod.rs (excluding CancerModel which stays)
2. Update CLAUDE.md template content: "Cancer Framework" â†’ "Ferro Framework"
3. Update cursor rules template: Framework name references
4. Update any documentation strings with framework name
5. Update test assertions that check for "Cancer" in output
6. Preserve `CancerModel` derive macro name (intentionally kept per decision #36)
</steps>

<validation>
- `grep -n "Cancer" ferro-cli/src/templates/mod.rs` returns only CancerModel references
- `grep -n "cancer" ferro-cli/src/templates/mod.rs` returns only CancerModel references (case variations)
</validation>
</task>

<task id="3">
<title>Verify scaffolding generates ferro code</title>
<why>End-to-end validation that new projects use ferro naming throughout</why>

<files>
- ferro-cli/src/commands/make_scaffold.rs (read-only verification)
</files>

<steps>
1. Run `cargo build -p ferro-cli` to ensure templates compile
2. Create a test scaffold in /tmp to verify output
3. Check generated files contain "Ferro" not "Cancer" (except CancerModel)
4. Clean up test scaffold
</steps>

<validation>
- `cargo build -p ferro-cli` succeeds
- Test scaffold contains no unexpected "cancer" references
</validation>
</task>

---

<done_criteria>
- [ ] All .tpl files updated (9 files)
- [ ] mod.rs inline templates updated (preserving CancerModel)
- [ ] `grep -ri "cancer" ferro-cli/src/templates/` returns only CancerModel references
- [ ] `cargo build -p ferro-cli` passes
- [ ] Test scaffold generates ferro-based code
</done_criteria>

<commit_strategy>
Single commit: "chore(cli): rebrand templates from cancer to ferro"
- All template file updates
- mod.rs inline template updates
</commit_strategy>
